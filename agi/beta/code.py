# agi

 ```json
{
  "files": [
    {
      "filename": "main.py",
      "content": "#!/usr/bin/env python3\n\"\"\"\nAGI System Entry Point\n项目 'agi' 的主入口，初始化并启动AGI代理\n\"\"\"\nimport asyncio\nimport logging\nfrom pathlib import Path\n\nfrom core.agent import AGIAgent\nfrom config import Config\n\nlogging.basicConfig(\n    level=logging.INFO,\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n)\nlogger = logging.getLogger(__name__)\n\n\nasync def main():\n    \"\"\"主函数：初始化AGI系统并运行交互循环\"\"\"\n    config = Config()\n    \n    logger.info(\"Initializing AGI System...\")\n    agent = AGIAgent(config)\n    \n    logger.info(\"AGI Agent started. Type 'exit' to quit.\")\n    \n    while True:\n        try:\n            user_input = input(\"\\n[User]: \").strip()\n            \n            if not user_input:\n                continue\n                \n            if user_input.lower() in ['exit', 'quit', 'bye']:\n                logger.info(\"Shutting down AGI System...\")\n                break\n            \n            # 运行AGI推理循环\n            response = await agent.process(user_input)\n            print(f\"\\n[AGI]: {response}\")\n            \n        except KeyboardInterrupt:\n            logger.info(\"Interrupted by user\")\n            break\n        except Exception as e:\n            logger.error(f\"Error in main loop: {e}\", exc_info=True)\n            print(f\"[System Error]: {e}\")\n\n\nif __name__ == \"__main__\":\n    asyncio.run(main())"
    },
    {
      "filename": "config.py",
      "content": "\"\"\"\nConfiguration Management\n管理AGI系统的配置参数\n\"\"\"\nimport os\nfrom dataclasses import dataclass\nfrom typing import Optional\n\n\n@dataclass\nclass Config:\n    \"\"\"AGI系统配置类\"\"\"\n    \n    # OpenAI API配置\n    openai_api_key: str = None\n    model: str = \"gpt-4\"\n    temperature: float = 0.7\n    max_tokens: int = 2000\n    \n    # 记忆系统配置\n    memory_limit: int = 10  # 短期记忆窗口大小\n    vector_db_path: str = \"./data/memory\"\n    \n    # 执行配置\n    max_iterations: int = 10  # 最大思考-行动循环次数\n    timeout: int = 30  # 单次API调用超时（秒）\n    \n    # 工具配置\n    enable_code_execution: bool = False  # 是否启用代码执行（安全风险）\n    allowed_tools: list = None\n    \n    def __post_init__(self):\n        \"\"\"从环境变量加载配置\"\"\"\n        self.openai_api_key = os.getenv(\"OPENAI_API_KEY\", self.openai_api_key)\n        self.model = os.getenv(\"AGI_MODEL\", self.model)\n        self.temperature = float(os.getenv(\"AGI_TEMPERATURE\", self.temperature))\n        \n        if not self.openai_api_key:\n            raise ValueError(\"OPENAI_API_KEY environment variable is required\")\n        \n        if self.allowed_tools is None:\n            self.allowed_tools = [\n                \"web_search\",\n                \"calculator\", \n                \"file_reader\",\n                \"code_interpreter\"\n            ]\n        \n        # 确保数据目录存在\n        os.makedirs(self.vector_db_path, exist_ok=True)"
    },
    {
      "filename": "core/agent.py",
      "content": "\"\"\"\nCore AGI Agent Implementation\n实现具备自主思考、规划和执行能力的AGI代理\n\"\"\"\nimport json\nimport logging\nfrom typing import Dict, List, Any, Optional\nimport asyncio\n\nfrom core.memory import MemorySystem\nfrom core.cognitive import CognitiveEngine\nfrom core.executor import ActionExecutor\nfrom utils.openai_client import OpenAIClient\n\nlogger = logging.getLogger(__name__)\n\n\nclass AGIAgent:\n    \"\"\"\n    AGI代理核心类\n    实现ReAct (Reasoning + Acting) 循环架构\n    \"\"\"\n    \n    def __init__(self, config):\n        self.config = config\n        self.llm = OpenAIClient(config)\n        self.memory = MemorySystem(config)\n        self.cognitive = CognitiveEngine(self.llm)\n        self.executor = ActionExecutor(config)\n        \n        # 系统状态\n        self.current_goal: Optional[str] = None\n        self.iteration_count: int = 0\n        \n    async def process(self, input_data: str) -> str:\n        \"\"\"\n        处理用户输入的主循环\n        实现完整的感知-思考-行动-观察循环\n        \"\"\"\n        self.current_goal = input_data\n        self.iteration_count = 0\n        \n        # 1. 将输入存入工作记忆\n        self.memory.add_to_working_memory(\"user_input\", input_data)\n        \n        # 2. 检索相关长期记忆\n        relevant_memories = self.memory.retrieve_relevant(input_data)\n        \n        # 3. 构建上下文\n        context = {\n            \"goal\": input_data,\n            \"memories\": relevant_memories,\n            \"available_tools\": self.executor.get_available_tools(),\n            \"iteration\": self.iteration_count\n        }\n        \n        final_response = \"\"\n        \n        # ReAct 循环\n        while self.iteration_count < self.config.max_iterations:\n            try:\n                # 思考步骤：决定下一步行动\n                thought, action, action_input = await self.cognitive.reason(\n                    context, \n                    self.memory.get_working_memory()\n                )\n                \n                logger.info(f\"Thought: {thought}\")\n                logger.info(f\"Action: {action},