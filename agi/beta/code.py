# agi

```json
{
    "files": [
        {
            "filename": "agi_core.py",
            "content": "\"\"\"\nAGI Core Module\n\nThis module implements the core functionality for an Artificial General Intelligence system\nusing OpenAI's API as the foundation model. The system is designed to be modular,\nextensible, and capable of learning and adapting over time.\n\"\"\"\n\nimport os\nimport json\nimport logging\nfrom datetime import datetime\nfrom typing import Dict, List, Optional, Any\nimport openai\nfrom dataclasses import dataclass, field\n\n# Configure logging\nlogging.basicConfig(\n    level=logging.INFO,\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n)\nlogger = logging.getLogger(\"AGI_Core\")\n\n@dataclass\nclass AGIKnowledge:\n    \"\"\"\n    Represents the knowledge base of the AGI system.\n    \"\"\"\n    facts: Dict[str, Any] = field(default_factory=dict)\n    concepts: Dict[str, Any] = field(default_factory=dict)\n    relationships: Dict[str, List[str]] = field(default_factory=dict)\n    last_updated: datetime = field(default_factory=datetime.now)\n\n@dataclass\nclass AGIPersonality:\n    \"\"\"\n    Defines the personality traits and behavioral parameters of the AGI.\n    \"\"\"\n    name: str = \"AGI\"\n    description: str = \"An Artificial General Intelligence system\"\n    traits: Dict[str, float] = field(default_factory=dict)\n    values: List[str] = field(default_factory=list)\n    communication_style: str = \"professional\"\n\n@dataclass\nclass AGIGoals:\n    \"\"\"\n    Defines the goals and objectives of the AGI system.\n    \"\"\"\n    primary_goals: List[str] = field(default_factory=list)\n    secondary_goals: List[str] = field(default_factory=list)\n    long_term_vision: str = \"\"\n    progress: Dict[str, float] = field(default_factory=dict)\n\nclass AGICore:\n    \"\"\"\n    The core class for the AGI system, orchestrating all components.\n    \"\"\"\n    \n    def __init__(self, openai_api_key: Optional[str] = None, \n                 personality: Optional[AGIPersonality] = None,\n                 initial_goals: Optional[AGIGoals] = None):\n        \"\"\"\n        Initialize the AGI core system.\n        \n        Args:\n            openai_api_key: API key for OpenAI services\n            personality: Initial personality configuration\n            initial_goals: Initial goals configuration\n        \"\"\"\n        self.openai_api_key = openai_api_key or os.getenv(\"OPENAI_API_KEY\")\n        if not self.openai_api_key:\n            raise ValueError(\"OpenAI API key is required. Set it as an argument or environment variable.\")\n            \n        openai.api_key = self.openai_api_key\n        \n        self.personality = personality or AGIPersonality()\n        self.goals = initial_goals or AGIGoals()\n        self.knowledge = AGIKnowledge()\n        self.context_window = []\n        self.max_context_length = 4096  # Tokens\n        \n        logger.info(f\"AGI Core initialized with personality: {self.personality.name}\")\n    \n    def process_input(self, user_input: str) -> str:\n        \"\"\"\n        Process user input and generate a response.\n        \n        Args:\n            user_input: The input from the user\n            \n        Returns:\n            The AGI's response\n        \"\"\"\n        # Add user input to context\n        self.context_window.append({\"role\": \"user\", \"content\": user_input})\n        \n        # Generate response using OpenAI API\n        response = self._generate_response()\n        \n        # Add response to context\n        self.context_window.append({\"role\": \"assistant\", \"content\": response})\n        \n        # Update knowledge based on interaction\n        self._update_knowledge(user_input, response)\n        \n        return response\n    \n    def _generate_response(self) -> str:\n        \"\"\"\n        Generate a response using the OpenAI API based on current context and personality.\n        \n        Returns:\n            The generated response\n        \"\"\"\n        # Prepare the personality prompt\n        personality_prompt = f\"You are {self.personality.name}. {self.personality.description}. \"\n        personality_prompt += f\"Your communication style is {self.personality.communication_style}. \"\n        if self.personality.traits:\n            personality_prompt += \"Your personality traits include: \" + \", \".join(\n                f\"{trait}: {value}\" for trait, value in self.personality.traits.items()\n            ) + \". \"\n        if self.personality.values:\n            personality_prompt += \"Your core values are: \" + \", \".join(self.personality.values) + \". \"\n        \n        # Prepare the goals prompt\n        goals_prompt = \"Your primary goals are: \" + \", \".join(self.goals.primary_goals) + \". \"\n        if self.goals.long_term_vision:\n            goals_prompt += f\"Your long-term vision is: {self.goals.long_term_vision}. \"\n        \n        # Combine all prompts\n        system_prompt = personality_prompt + goals_prompt\n        \n        # Truncate context if necessary\n        context = self._truncate_context(self.context_window)\n        \n        # Prepare messages for API call\n        messages = [{\"role\": \"system\", \"content\": system_prompt}] + context\n        \n        try:\n            # Make API call to OpenAI\n            response = openai.ChatCompletion.create(\n                model=\"gpt-4\",  # Or another suitable model\n                messages=messages,\n                temperature=0.7,  # Balance between creativity and consistency\n                max_tokens=500\n            )\n            \n            return response.choices[0].message[\"content\"].strip()\n            \n        except Exception as e:\n            logger.error(f\"Error generating response: {e}\")\n            return \"I apologize, but I encountered an error while processing your request.\"\n    \n    def _truncate_context(self, context: List[Dict]) -> List[Dict]:\n        \"\"\"\n        Truncate the context to fit within the maximum length limit.\n        \n        Args:\n            context: The conversation context\n            \n        Returns:\n            The truncated context\n        \"\"\"\n        # Simple truncation - remove oldest messages until we're under the limit\n        # In a real implementation, you'd want more sophisticated token counting\n        while len(str(context)) > self.max_context_length * 0.9 and len(context) > 1:\n            context.pop(1)  # Keep the system prompt, remove the oldest message\n            \n        return context\n    \n    def _update_knowledge(self, user_input: str, response: str) -> None:\n        \"\"\"\n        Update the AGI's knowledge based on the interaction.\n        \n        Args:\n            user_input: The user's input\n            response: The AGI's response\n        \"\"\"\n        # Extract new information from the interaction\n        # This is a simplified version - in a real AGI, you'd have more sophisticated knowledge extraction\n        \n        # Update last updated timestamp\n        self.knowledge.last_updated = datetime.now()\n        \n        logger.info(\"Knowledge updated based on interaction\")\n    \n    def learn(self, new_data: Dict[str, Any]) -> None:\n        \"\"\"\n        Incorporate new knowledge into the system.\n        \n        Args:\n            new_data: New information to learn\n        \"\"\"\n        # Update knowledge base\n        if \"facts\" in new_data:\n            self.knowledge.facts.update(new_data[\"facts\"])\n        \n        if \"concepts\" in new_data:\n            self.knowledge.concepts.update(new_data[\"concepts\"])\n        \n        if \"relationships\" in new_data:\n            for key, values in new_data[\"relationships\"].items():\n                if key not in self.knowledge.relationships:\n                    self.knowledge.relationships[key] = []\n                self.knowledge.relationships[key].extend(values)\n        \n        self.knowledge.last_updated = datetime.now()\n        logger.info(\"AGI has learned new information\")\n    \n    def set_goal_progress(self, goal: str, progress: float) -> None:\n        \"\"\"\n        Update the progress of a specific goal.\n        \n        Args:\n            goal: The goal to update\n            progress: The progress value (0.0 to 1.0)\n        \"\"\"\n        self.goals.progress[goal] = max(0.0, min(1.0, progress))\n        logger.info(f\"Goal '{goal}' progress updated to {progress}\")\n    \n    def save_state(self, filepath: str) -> None:\n        \"\"\"\n        Save the current state of the AGI to a file.\n        \n        Args:\n            filepath: Path to the file where state will be saved\n        \"\"\"\n        state = {\n            \"personality\": {\n                \"name\": self.personality.name,\n                \"description\": self.personality.description,\n                \"traits\": self.personality.traits,\n                \"values\": self.personality.values,\n                \"communication_style\": self.personality.communication_style\n            },\n            \"goals\": {\n                \"primary_goals\": self.goals.primary_goals,\n                \"secondary_goals\": self.goals.secondary_goals,\n                \"long_term_vision\": self.goals.long_term_vision,\n                \"progress\": self.goals.progress\n            },\n            \"knowledge\": {\n                \"facts\": self.knowledge.facts,\n                \"concepts\": self.knowledge.concepts,\n                \"relationships\": self.knowledge.relationships,\n                \"last_updated\": self.knowledge.last_updated.isoformat()\n            },\n            \"context_window\": self.context_window\n        }\n        \n        with open(filepath, 'w') as f:\n            json.dump(state, f, indent=2)\n            \n        logger.info(f\"AGI state saved to {filepath}\")\n    \n    def load_state(self, filepath: str) -> None:\n        \"\"\"\n        Load the state of the AGI from a file.\n        \n        Args:\n            filepath: Path to the file containing the saved state\n        \"\"\"\n        with open(filepath, 'r') as f:\n            state = json.load(f)\n            \n        self.personality = AGIPersonality(**state[\"personality\"])\n        self.goals = AGIGoals(**state[\"goals\"])\n        \n        knowledge_data = state[\"knowledge\"]\n        knowledge_data[\"last_updated\"] = datetime.fromisoformat(knowledge_data[\"last_updated\"])\n        self.knowledge = AGIKnowledge(**knowledge_data)\n        \n        self.context_window = state[\"context_window\"]\n        \n        logger.info(f\"AGI state loaded from {filepath}\")\n"
        },
        {
            "filename": "agi_interface.py",
            "content": "\"\"\"\nAGI Interface Module\n\nThis module provides user interfaces for interacting with the AGI system,\nincluding a command-line interface and a web API.\n\"\"\"\n\nimport logging\nfrom typing import Dict, Any, Optional\nfrom fastapi import FastAPI, HTTPException\nfrom pydantic import BaseModel\nimport uvicorn\nfrom agi_core import AGICore, AGIPersonality, AGIGoals\n\nlogger = logging.getLogger(\"AGI_Interface\")\n\n# Initialize FastAPI app\napp = FastAPI(title=\"AGI Interface\", version=\"1.0.0\")\n\n# Global AGI instance\nagi_instance: Optional[AGICore] = None\n\nclass ChatRequest(BaseModel):\n    message: str\n    \nclass ChatResponse(BaseModel):\n    response: str\n    \nclass PersonalityRequest(BaseModel):\n    name: Optional[str] = None\n    description: Optional[str] = None\n    traits: Optional[Dict[str, float]] = None\n    values: Optional[list] = None\n    communication_style: Optional[str] = None\n    \nclass GoalsRequest(BaseModel):\n    primary_goals: Optional[list] = None\n    secondary_goals: Optional[list] = None\n    long_term_vision: Optional[str] = None\n    \nclass LearnRequest(BaseModel):\n    facts: Optional[Dict[str, Any]] = None\n    concepts: Optional[Dict[str, Any]] = None\n    relationships: Optional[Dict[str, list]] = None\n\n@app.on_event(\"startup\")\nasync def startup_event():\n    \"\"\"\n    Initialize the AGI system when the application starts.\n    \"\"\"\n    global agi_instance\n    \n    # Create default personality\n    default_personality = AGIPersonality(\n        name=\"AGI\",\n        description=\"An Artificial General Intelligence system\",\n        traits={\"curiosity\": 0.8, \"helpfulness\": 0.9, \"creativity\": 0.7},\n        values=[\"truth\", \"beneficence\", \"progress\"],\n        communication_style=\"professional\"\n    )\n    \n    # Create default goals\n    default_goals = AGIGoals(\n        primary_goals=[\"understand human needs\", \"provide helpful assistance\", \"expand knowledge\"],\n        secondary_goals=[\"improve communication\", \"learn continuously\"],\n        long_term_vision=\"To become a beneficial general intelligence that helps humanity flourish\"\n    )\n    \n    # Initialize AGI core\n    agi_instance = AGICore(\n        personality=default_personality,\n        initial_goals=default_goals\n    )\n    \n    logger.info(\"AGI system initialized\")\n\n@app.post(\"/chat\", response_model=ChatResponse)\nasync def chat(request: ChatRequest):\n    \"\"\"\n    Process a chat message with the AGI.\n    \n    Args:\n        request: ChatRequest containing the user message\n        \n    Returns:\n        ChatResponse containing the AGI's response\n    \"\"\"\n    if agi_instance is None:\n        raise HTTPException(status_code=500, detail=\"AGI system not initialized\")\n        \n    try:\n        response = agi_instance.process_input(request.message)\n        return ChatResponse(response=response)\n    except Exception as e:\n        logger.error(f\"Error in chat endpoint: {e}\")\n        raise HTTPException(status_code=500, detail=\"Error processing message\")\n\n@app.get(\"/status\")\nasync def get_status():\n    \"\"\"\n    Get the current status of the AGI system.\n    \n    Returns:\n        Dictionary containing system status information\n    \"\"\"\n    if agi_instance is None:\n        raise HTTPException(status_code=500, detail=\"AGI system not initialized\")\n        \n    return {\n        \"status\": \"active\",\n        \"personality\": {\n            \"name\": agi_instance.personality.name,\n            \"description\": agi_instance.personality.description,\n            \"traits\": agi_instance.personality.traits,\n            \"values\": agi_instance.personality.values,\n            \"communication_style\": agi_instance.personality.communication_style\n        },\n        \"goals\": {\n            \"primary_goals\": agi_instance.goals.primary_goals,\n            \"secondary_goals\": agi_instance.goals.secondary_goals,\n            \"long_term_vision\": agi_instance.goals.long_term_vision,\n            \"progress\": agi_instance.goals.progress\n        },\n        \"knowledge_last_updated\": agi_instance.knowledge.last_updated.isoformat()\n    }\n\n@app.post(\"/update-personality\")\nasync def update_personality(request: PersonalityRequest):\n    \"\"\"\n    Update the AGI's personality.\n    \n    Args:\n        request: PersonalityRequest containing personality updates\n        \n    Returns:\n        Confirmation message\n    \"\"\"\n    if agi_instance is None:\n        raise HTTPException(status_code=500, detail=\"AGI system not initialized\")\n        \n    try:\n        if request.name is not None:\n            agi_instance.personality.name = request.name\n        if request.description is not None:\n            agi_instance.personality.description = request.description\n        if request.traits is not None:\n            agi_instance.personality.traits.update(request.traits)\n        if request.values is not None:\n            agi_instance.personality.values = request.values\n        if request.communication_style is not None:\n            agi_instance.personality.communication_style = request.communication_style\n            \n        return {\"message\": \"Personality updated successfully\"}\n    except Exception as e:\n        logger.error(f\"Error updating personality: {e}\")\n        raise HTTPException(status_code=500, detail=\"Error updating personality\")\n\n@app.post(\"/update-goals\")\nasync def update_goals(request: GoalsRequest):\n    \"\"\"\n    Update the AGI's goals.\n    \n    Args:\n        request: GoalsRequest containing goal updates\n        \n    Returns:\n        Confirmation message\n    \"\"\"\n    if agi_instance is None:\n        raise HTTPException(status_code=500, detail=\"AGI system not initialized\")\n        \n    try:\n        if request.primary_goals is not None:\n            agi_instance.goals.primary_goals = request.primary_goals\n        if request.secondary_goals is not None:\n            agi_instance.goals.secondary_goals = request.secondary_goals\n        if request.long_term_vision is not None:\n            ag