# agi

{
    "files": [
        {
            "filename": "agi_core.py",
            "content": "#!/usr/bin/env python3\n# -*- coding: utf-8 -*-\n\"\"\"\nAGI Core Module\n\nThis module implements the core functionality of a General Artificial Intelligence system\nusing OpenAI's API as the primary reasoning and generation engine.\n\"\"\"\n\nimport asyncio\nimport json\nimport logging\nimport time\nfrom typing import Dict, List, Optional, Any, Callable\nfrom dataclasses import dataclass\nfrom enum import Enum\n\nimport openai\nfrom openai import AsyncOpenAI\n\n# Configure logging\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\n# Set your OpenAI API key (should be loaded from environment variables in production)\nopenai.api_key = \"YOUR_OPENAI_API_KEY\"\n\n# Initialize async client\nclient = AsyncOpenAI(api_key=openai.api_key)\n\n\nclass AGIState(Enum):\n    IDLE = \"idle\"\n    THINKING = \"thinking\"\n    REASONING = \"reasoning\"\n    GENERATING = \"generating\"\n    COMPLETED = \"completed\"\n    ERROR = \"error\"\n\n\n@dataclass\nclass Task:\n    \"\"\"Represents a task to be processed by the AGI.\"\"\"\n    id: str\n    prompt: str\n    context: Optional[Dict[str, Any]] = None\n    priority: int = 1\n    created_at: float = None\n\n    def __post_init__(self):\n        if self.created_at is None:\n            self.created_at = time.time()\n\n\n@dataclass\nclass AGIResponse:\n    \"\"\"Represents the response from the AGI.\"\"\"\n    task_id: str\n    content: str\n    metadata: Dict[str, Any]\n    status: AGIState\n    timestamp: float\n\n    def to_dict(self) -> Dict[str, Any]:\n        return {\n            \"task_id\": self.task_id,\n            \"content\": self.content,\n            \"metadata\": self.metadata,\n            \"status\": self.status.value,\n            \"timestamp\": self.timestamp\n        }\n\n\nclass AGICore:\n    \"\"\"Core class for the AGI system. Handles task processing using OpenAI's API.\"\"\"\n\n    def __init__(\n        self,\n        model: str = \"gpt-4o\",\n        max_tokens: int = 4096,\n        temperature: float = 0.7,\n        top_p: float = 1.0,\n        frequency_penalty: float = 0.0,\n        presence_penalty: float = 0.0,\n        timeout: int = 30\n    ):\n        self.model = model\n        self.max_tokens = max_tokens\n        self.temperature = temperature\n        self.top_p = top_p\n        self.frequency_penalty = frequency_penalty\n        self.presence_penalty = presence_penalty\n        self.timeout = timeout\n        self.state = AGIState.IDLE\n        self.active_tasks: Dict[str, Task] = {}\n        self.responses: List[AGIResponse] = []\n\n        # System-level prompts\n        self.system_prompts = {\n            \"reasoning\": \"You are an advanced AI assistant capable of deep reasoning, problem-solving, and creative thinking. Think step-by-step before answering. Break down complex problems into smaller components.\",\n            \"creative\": \"You are a highly creative AI assistant. Generate innovative ideas, solutions, and narratives with rich detail and originality.\",\n            \"analytical\": \"You are an analytical AI assistant. Provide structured, logical, and evidence-based responses with clear reasoning steps.\",\n            \"summarize\": \"Summarize the following text concisely while preserving key information and context. Be accurate and brief.\",\n            \"debug\": \"Analyze the following code or logic error. Identify the root cause and provide a detailed explanation with a solution.\",\n            \"plan\": \"Create a detailed, actionable plan to achieve the following goal. Include milestones, resources needed, and potential risks.\",\n        }\n\n    async def process_task(self, task: Task) -> AGIResponse:\n        \"\"\"Process a single task using OpenAI's API.\"\"\"\n        try:\n            self.state = AGIState.THINKING\n            logger.info(f\"Processing task {task.id}: {task.prompt[:50]}...\")\n\n            # Prepare messages for the API\n            messages = [\n                {\"role\": \"system\", \"content\": self.system_prompts.get(task.context.get(\"type\", \"reasoning\"), \"reasoning\")},\n                {\"role\": \"user\", \"content\": task.prompt}\n            ]\n\n            # Call OpenAI API\n            response = await client.chat.completions.create(\n                model=self.model,\n                messages=messages,\n                max_tokens=self.max_tokens,\n                temperature=self.temperature,\n                top_p=self.top_p,\n                frequency_penalty=self.frequency_penalty,\n                presence_penalty=self.presence_penalty,\n                timeout=self.timeout\n            )\n\n            # Extract response content\n            content = response.choices[0].message.content.strip()\n\n            # Record the response\n            agi_response = AGIResponse(\n                task_id=task.id,\n                content=content,\n                metadata={\n                    \"model\": self.model,\n                    \"usage\": {\n                        \"prompt_tokens\": response.usage.prompt_tokens,\n                        \"completion_tokens\": response.usage.completion_tokens,\n                        \"total_tokens\": response.usage.total_tokens\n                    },\n                    \"finish_reason\": response.choices[0].finish_reason\n                },\n                status=AGIState.COMPLETED,\n                timestamp=time.time()\n            )\n\n            self.responses.append(agi_response)\n            self.state = AGIState.IDLE\n\n            logger.info(f\"Task {task.id} completed successfully.\")\n            return agi_response\n\n        except Exception as e:\n            logger.error(f\"Error processing task {task.id}: {str(e)}\")\n            self.state = AGIState.ERROR\n            return AGIResponse(\n                task_id=task.id,\n                content=f\"Error: {str(e)}\",\n                metadata={\"error\": str(e)},\n                status=AGIState.ERROR,\n                timestamp=time.time()\n            )\n\n    async def process_batch(self, tasks: List[Task]) -> List[AGIResponse]:\n        \"\"\"Process multiple tasks concurrently.\"\"\"\n        logger.info(f\"Processing batch of {len(tasks)} tasks.\")\n        self.state = AGIState.REASONING\n\n        # Create tasks for concurrent execution\n        coroutines = [self.process_task(task) for task in tasks]\n\n        # Run all tasks concurrently\n        results = await asyncio.gather(*coroutines, return_exceptions=True)\n\n        # Handle any exceptions that occurred\n        final_results = []\n        for result in results:\n            if isinstance(result, Exception):\n                logger.error(f\"Exception during batch processing: {result}\")\n                final_results.append(AGIResponse(\n                    task_id=\"unknown\",\n                    content=f\"Exception: {str(result)}\",\n                    metadata={\"error\": str(result)},\n                    status=AGIState.ERROR,\n                    timestamp=time.time()\n                ))\n            else:\n                final_results.append(result)\n\n        self.state = AGIState.IDLE\n        logger.info(f\"Batch processing completed with {len(final_results)} results.\")\n        return final_results\n\n    def get_response(self, task_id: str) -> Optional[AGIResponse]:\n        \"\"\"Retrieve a specific response by task ID.\"\"\"\n        for response in self.responses:\n            if response.task_id == task_id:\n                return response\n        return None\n\n    def get_all_responses(self) -> List[AGIResponse]:\n        \"\"\"Return all stored responses.\"\"\"\n        return self.responses.copy()\n\n    def clear_responses(self):\n        \"\"\"Clear all stored responses.\"\"\"\n        self.responses.clear()\n\n    def get_status(self) -> Dict[str, Any]:\n        \"\"\"Return current status of the AGI system.\"\"\"\n        return {\n            \"state\": self.state.value,\n            \"active_tasks_count\": len(self.active_tasks),\n            \"responses_count\": len(self.responses),\n            \"model\": self.model,\n            \"timestamp\": time.time()\n        }\n\n    async def close(self):\n        \"\"\"Clean up resources.\"\"\"\n        logger.info(\"Closing AGI core...\")\n        # No specific cleanup needed for async client at this time\n        pass\n\n\n# Example usage and testing\nasync def main():\n    \"\"\"Example usage of the AGI Core.\"\"\"\n    print(\"Initializing AGI Core...\")\n    agi = AGICore(model=\"gpt-4o\", max_tokens=2048, temperature=0.7)\n\n    # Create sample tasks\n    tasks = [\n        Task(id=\"task_001\", prompt=\"Explain quantum computing in simple terms suitable for a high school student.\", context={\"type\": \"explanation\"}),\n        Task(id=\"task_002\", prompt=\"Design a sustainable city layout with renewable energy integration.\", context={\"type\": \"creative\"}),\n        Task(id=\"task_003\", prompt=\"Debug this Python function that's causing a memory leak: def bad_function():\n    data = []\n    while True:\n        data.append([1] * 1000000)\n    return data\", context={\"type\": \"debug\"})\n    ]\n\n    # Process tasks\n    results = await agi.process_batch(tasks)\n\n    # Display results\n    for result in results:\n        print(f\"\\n--- Task {result.task_id} ---\")\n        print(f\"Status: {result.status.value}\")\n        print(f\"Content: {result.content[:200]}...\")\n        print(f\"Usage: {result.metadata['usage']}\")\n\n    # Show system status\n    print(f\"\\nSystem Status: {agi.get_status()}\")\n\n    # Cleanup\n    await agi.close()\n\n\nif __name__ == \"__main__\":\n    # Run the example\n    asyncio.run(main())"
        },
        {
            "filename": "config.py",
            "content": "#!/usr/bin/env python3\n# -*- coding: utf-8 -*-\n\"\"\"\nConfiguration module for the AGI project.\n\nHolds all configuration values and constants used throughout the application.\n\"\"\"\n\nimport os\nfrom pathlib import Path\n\n# ==================== API Configuration ====================\nOPENAI_API_KEY = os.getenv(\"OPENAI_API_KEY\", \"your-openai-api-key-here\")\nOPENAI_BASE_URL = os.getenv(\"OPENAI_BASE_URL\", \"https://api.openai.com/v1\")\n\n# Default model settings\nDEFAULT_MODEL = \"gpt-4o\"\nDEFAULT_MAX_TOKENS = 4096\nDEFAULT_TEMPERATURE = 0.7\nDEFAULT_TOP_P = 1.0\nDEFAULT_FREQUENCY_PENALTY = 0.0\nDEFAULT_PRESENCE_PENALTY = 0.0\nDEFAULT_TIMEOUT = 30\n\n# ==================== System Configuration ====================\nMAX_CONCURRENT_TASKS = 10\nTASK_RETRY_COUNT = 3\nTASK_TIMEOUT_SECONDS = 60\n\n# ==================== File Paths ====================\nPROJECT_ROOT = Path(__file__).parent.parent\nCONFIG_DIR = PROJECT_ROOT / \"config\"\nLOG_DIR = PROJECT_ROOT / \"logs\"\nDATA_DIR = PROJECT_ROOT / \"data\"\nMODELS_DIR = PROJECT_ROOT / \"models\"\n\n# Ensure directories exist\nfor directory in [LOG_DIR, DATA_DIR, MODELS_DIR]:\n    directory.mkdir(exist_ok=True)\n\n# ==================== Logging Configuration ====================\nLOG_FILE = LOG_DIR / \"agi.log\"\nLOG_FORMAT = \"%(asctime)s - %(name)s - %(levelname)s - %(message)s\"\nLOG_LEVEL = \"INFO\"\n\n# ==================== Environment Variables ====================\nENVIRONMENT = os.getenv(\"ENVIRONMENT\", \"development\")\nDEBUG = os.getenv(\"DEBUG\", \"False\") == \"True\"\n\n# ==================== Prompt Templates ====================\nSYSTEM_PROMPTS = {\n    \"reasoning\": \"You are an advanced AI assistant capable of deep reasoning, problem-solving, and creative thinking. Think step-by-step before answering. Break down complex problems into smaller components.\",\n    \"creative\": \"You are a highly creative AI assistant. Generate innovative ideas, solutions, and narratives with rich detail and originality.\",\n    \"analytical\": \"You are an analytical AI assistant. Provide structured, logical, and evidence-based responses with clear reasoning steps.\",\n    \"summarize\": \"Summarize the following text concisely while preserving key information and context. Be accurate and brief.\",\n    \"debug\": \"Analyze the following code or logic error. Identify the root cause and provide a detailed explanation with a solution.\",\n    \"plan\": \"Create a detailed, actionable plan to achieve the following goal. Include milestones, resources needed, and potential risks.\",\n    \"critique\": \"Provide constructive feedback on the following work. Focus on strengths, weaknesses, and actionable suggestions for improvement.\",\n    \"translate\": \"Translate the following text to the target language while preserving meaning and tone. Use formal or informal style as appropriate.\",\n}\n\n# ==================== Constants ====================\nMAX_RESPONSE_LENGTH = 8192\nMIN_CONFIDENCE_THRESHOLD = 0.7\n\n# ==================== Validation Functions ====================\ndef validate_api_key(api_key: str) -> bool:\n    \"\"\"Validate that the API key is properly formatted.\"\"\"\n    if not api_key or len(api_key) < 10:\n        return False\n    if not api_key.startswith(\"sk-\"):\n        return False\n    return True\n\n\ndef ensure_config_dirs():\n    \"\"\"Ensure all necessary directories exist.\"\"\"\n    for path in [LOG_DIR, DATA_DIR, MODELS_DIR]:\n        path.mkdir(parents=True, exist_ok=True)\n\n# Initialize configuration\nensure_config_dirs()"
        },
        {
            "filename": "agent_manager.py",
            "content": "#!/usr/bin/env python3\n# -*- coding: utf-8 -*-\n\"\"\"\nAgent Manager Module\n\nManages multiple specialized agents within the AGI system.\nEach agent has a specific role and can be activated based on task requirements.\n\"\"\"\n\nimport asyncio\nimport json\nfrom typing import Dict, List, Optional, Any, Callable\nfrom dataclasses import dataclass\nfrom enum import Enum\n\nfrom agi_core import AGICore, Task, AGIResponse\n\n# Define agent types\nclass AgentType(Enum):\n    REASONING = \"reasoning\"\n    CREATIVE = \"creative\"\n    ANALYTICAL = \"analytical\"\n    DEBUGGING = \"debugging\"\n    PLANNING = \"planning\"\n    SUMMARIZATION = \"summarization\"\n    CRITIQUE = \"critique\"\n    TRANSLATION = \"translation\"\n\n@dataclass\nclass AgentConfig:\n    \"\"\"Configuration for a specific agent.\"\"\"\n    type: AgentType\n    model: str = \"gpt-4o\"\n    max_tokens: int = 4096\n    temperature: float = 0.7\n    top_p: float = 1.0\n    frequency_penalty: float = 0.0\n    presence_penalty: float = 0.0\n    timeout: int = 30\n    enabled: bool = True\n    description: str = \"\"\n\n    def to_dict(self) -> Dict[str, Any]:\n        return {\n            \"type\": self.type.value,\n            \"model\": self.model,\n            \"max_tokens\": self.max_tokens,\n            \"temperature\": self.temperature,\n            \"top_p\": self.top_p,\n            \"frequency_penalty\": self.frequency_penalty,\n            \"presence_penalty\": self.presence_penalty,\n            \"timeout\": self.timeout,\n            \"enabled\": self.enabled,\n            \"description\": self.description\n        }\n\n    @classmethod\n    def from_dict(cls, data: Dict[str, Any]) -> 'AgentConfig':\n        return cls(**data)\n\n\nclass AgentManager:\n    \"\"\"Manages multiple specialized agents within the AGI system.\"\"\"\n\n    def __init__(self):\n        self.agents: Dict[AgentType, AGICore] = {}\n        self.agent_configs: Dict[AgentType, AgentConfig] = {}\n        self.default_config = AgentConfig(\n            type=AgentType.REASONING,\n            model=\"gpt-4o\",\n            max_tokens=4096,\n            temperature=0.7,\n            top_p=1.0,\n            frequency_penalty=0.0,\n            presence_penalty=0.0,\n            timeout=30,\n            enabled=True,\n            description=\"Default reasoning agent for general tasks.\"\n        )\n\n        # Initialize default agents\n        self._initialize_default_agents()\n\n    def _initialize_default_agents(self):\n        \"\"\"Initialize the default set of agents.\"\"\"\n        configs = {\n            AgentType.REASONING: AgentConfig(\n                type=AgentType.REASONING,\n                model=\"gpt-4o\",\n                max_tokens=4096,\n                temperature=0.7,\n                top_p=1.0,\n                frequency_penalty=0.0,\n                presence_penalty=0.0,\n                timeout=30,\n                enabled=True,\n                description=\"Advanced reasoning agent for complex problem solving.\"\n            ),\n            AgentType.CREATIVE: AgentConfig(\n                type=AgentType.C